<!DOCTYPE html>
<html>
<head>
  <title>BLE Test</title>
</head>
<body>
  <h1>Scan for BLE Devices</h1>
  <button onclick="scan()"> Start Scan</button>
  <ul id="devices"></ul>

  <script>
    async function scan() {
      try {
        const device = await navigator.bluetooth.requestDevice({
          acceptAllDevices: true
        });
        const el = document.createElement("li");
        el.textContent = `${device.name || '(no name)'} - ${device.id}`;
        document.getElementById("devices").appendChild(el);
        console.log('Found device:', device);
      } catch (err) {
        console.error("Scan failed:", err);
        alert("Scan failed: " + err);
      }
    }
  </script>
</body>
</html>

